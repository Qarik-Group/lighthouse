#!/usr/bin/env bash

set -eu

# Set static configuration and configuration from safe here

CF_USERNAME="admin"
CF_PASSWORD=$(bosh int <(safe get secret/xjkevin/cf/admin_user) --path /password)
     CF_API="https://api.system.xjkevin.scalecf.net"
     CF_ORG="system"
   CF_SPACE="dev"

# Set the API endpoint.

cf api --skip-ssl-validation "${CF_API}" 

# Authenticate to CF.

CF_USERNAME="${CF_USERNAME}" CF_PASSWORD="${CF_PASSWORD}" cf auth

# Set the default target, configured in the config.env file.

cf target -o "${CF_ORG}" -s "${CF_SPACE}"

